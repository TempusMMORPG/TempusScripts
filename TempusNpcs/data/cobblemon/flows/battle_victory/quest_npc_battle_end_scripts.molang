for_each(t.loser, c.npc_losers, {
  !q.is_blank(t.loser.npc.config.quest_update_on_player_wins) ? {
    for_each(t.player_winner, c.player_winners, {
      v.player = t.player_winner.player;
      v.npc = t.loser.npc;
      q.set_query('player', t.player_winner.player);
      q.set_query('npc', t.loser.npc);
      q.run_molang(t.loser.npc.config.quest_update_on_player_wins);
    });
  };
});